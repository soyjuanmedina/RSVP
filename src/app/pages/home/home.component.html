<app-read-config></app-read-config>

<form [formGroup]="form">

  <div class=" mb-3 text-center mt-5">
    <label for="textToRead" class="form-label">Texto</label>
    <textarea class="form-control" id="textToRead" rows="10"
      formControlName="textToRead"></textarea>
    <button type="button" class="btn btn-primary mt-2" (click)="read()">Velocileer</button>
  </div>

  @if(!extensionService.isRunningAsExtension()){
  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button type="button" class="btn btn-secondary btn-sm" data-bs-toggle="modal"
      data-bs-target="#testTextModal">Cargar texto de
      prueba</button>
  </div>}
</form>

<!-- Modal de textos de ejemplo-->
<div class="modal fade" id="testTextModal" tabindex="-1" aria-labelledby="testTextModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="testTextModalLabel">Seleccione un texto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">


        <ul class="list-group">
          @for (testText of testTexts; track testText; let index = $index) {
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{testText.title}} de {{testText.author}} <br>({{testText.words}} palabras)
            <span role='button' class="badge text-bg-primary rounded-pill"
              (click)="loadTestText(index)" data-bs-dismiss="modal">Cargar</span>
          </li>
          }
        </ul>
      </div>
    </div>
  </div>
</div>